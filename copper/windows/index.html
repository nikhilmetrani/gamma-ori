<!DOCTYPE html>
<html>
	<head>
		<title>carbon</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--link rel="stylesheet" href="../external/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="../external/jquery/jquery-2.2.3.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
		<script src="../external/bootstrap/3.3.6/js/bootstrap.min.js"></script-->
        <!-- Custom styles for this template >
        <link href="../external/css/borders.css" rel="stylesheet"-->
        <link href="../external/css/menu.css" rel="stylesheet">
        <link href="../external/css/navbar.css" rel="stylesheet">
		<script src="index.controller.js"></script>
        <script src="index.view.js"></script>
        <link id="themeCSS" href="../theme/dark.css" rel="stylesheet">
        <script>
            const ipcRenderer = require('electron').ipcRenderer;
            
            function showAboutBox() {
                ipcRenderer.sendSync('synchronous-message', 'open-about-window');
            }
        </script>
	</head>
	<body >
        <div id="menubar">
            <ul id="menu">
                <li>
                    <a href="#">carbon</a>
                    <ul>
                        <li><a href="#" onclick="alert();">Login</a></li>
                        <li><a href="#" onclick="alert();">Log-off</a></li>
                        <li><div><hr></div></li>
                        <li><a href="#" onclick="toggleDeveloperTools();">Debug<div>Ctrl+Shift+I</div></a></li>
                        <li><div><hr></div></li>
                        <li><a href="#" onclick="window.close();">Exit</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">View</a>
                    <ul>
                        <li><a href="#" onclick="loadURLInToWebView('file://' + __dirname + '/../windows/home/home.html');">Home</a></li>
                        <li><a href="#" onclick="loadURLInToWebView('file://' + __dirname + '/../windows/myapps/myapps.html');">My Apps</a></li>
                        <li><a href="#" onclick="loadURLInToWebView('https://s3-ap-southeast-1.amazonaws.com/eyot-staging.com/store.html');">Store</a></li>
                        <li><div><hr></div></li>
                        <li><a href="#">Themes</a>
                            <ul>
                                <li><a href="#" onclick="setTheme('light');saveSetting('theme', 'light');">Light</a></li>
                                <li><a href="#" onclick="setTheme('dark');saveSetting('theme', 'dark');">Dark</a></li>
                            </ul>
                        </li>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#">Help</a>
                    <ul>
                        <li><a href="#" onclick="alert();">Support</a></li>
                        <li><div><hr></div></li>
                        <li><a href="#" onclick="alert();">Subscriber Agreement testing long text</a></li>
                        <li><div><hr></div></li>
                        <li><a href="#" onclick="showAboutBox()">About</a></li>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="navbar">
            <ul id="navbar-button">
                <li class="active"><a href="#">carbon</a></li>
                <li class="active"><a href="#" onClick="loadURLInToWebView('file://' + __dirname + '/home/home.html');">Home</a></li>
                <li><a href="#" onClick="if (isLoggedIn()) {loadURLInToWebView('file://' + __dirname + '/myapps/myapps.html'); }">My Apps</a></li>
                <li><a href="#" onClick="loadURLInToWebView('https://s3-ap-southeast-1.amazonaws.com/eyot-staging.com/store.html');">xenon Store</a></li>
            </ul>
        </div>
        <div style="top:5.0em;left:0px;width:100%;bottom:24px;position:absolute;background-color:#333">
            <webview class="wvcontainer" id="contentWebView" src="home/home.html" httpreferrer="carbon" style="height:100%;width:100%" autosize="on" nodeintegration></webview>
        </div>
        
        <div class="modal fade" id="loginModal" role="dialog" >
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Secure login</h4>
					</div>
					<div class="modal-body">
						<form role="form">
							<div class="form-group">
								<label for="email">Account:</label>
								<input type="email" class="form-control" autofocus="autofocus" id="email" placeholder="Email / User Name">
							</div>
							<div class="form-group">
								<label for="pwd">Password:</label>
								<input type="password" class="form-control" id="pwd" placeholder="Password">
							</div>
							<div class="checkbox">
								<label><input type="checkbox">Remember me</label>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="submit" class="btn btn-default" onClick="if(validateLogin());else return false;">log me in</button><button type="button" class="btn btn-default" data-dismiss="modal">cancel</button>
					</div>
				</div>
			</div>
		</div>
	</body>
    <script>
        loadCurrentTheme();
        enableWebViewMessageListener();
    </script>
</html>